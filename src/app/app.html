<base href="/flashcards/">

<mat-toolbar ngSkipHydration>

  <div class="toolbar-left">
    <img src="logo.svg" alt="Flashcards Logo" id="fc-toolbar-logo" />

    <button mat-button [matMenuTriggerFor]="fileMenu">
      File
    </button>


    <button mat-button [matMenuTriggerFor]="editMenu">
      Edit
    </button>

    <button mat-button [matMenuTriggerFor]="reviewMenu">
      Review
    </button>
  </div>

  <div class="toolbar-center">

    <fc-deck-title-text-field />

  </div>

  <div class="toolbar-right">

    <fc-card-index-picker />

    <button matFab (click)="flipVisibleSide()" style="margin-right: 1rem;">
      <mat-icon>flip</mat-icon>
    </button>

    @switch (appState.appMode()) {
      @case (AppMode.EDITING_DECK) {
        <button matFab extended [matMenuTriggerFor]="changeLayoutMenu">
          <mat-icon>edit</mat-icon>
          Editing Deck
        </button>
      }
      
      @case (AppMode.MANAGING_FILES) {
        <button matFab extended [matMenuTriggerFor]="changeLayoutMenu">
          <mat-icon class="material-symbols-outlined">cards_stack</mat-icon>
          Managing Files
        </button>
      }

      @case (AppMode.REVIEWING_DECK) {
        <button matFab extended [matMenuTriggerFor]="changeLayoutMenu">
          <mat-icon class="material-symbols-outlined">transition_slide</mat-icon>
          Reviewing Deck
        </button>
      }
    }
  </div>

</mat-toolbar>

<mat-menu #fileMenu="matMenu">

  <fc-new-deck-button />
  <fc-open-deck-button />

</mat-menu>

<mat-menu #editMenu="matMenu">

  <fc-add-card-after-button />
  <fc-delete-current-card-button />
  <fc-move-card-backward-button />
  <fc-move-card-forward-button />
  
  <fc-change-layout-button />

</mat-menu>

<mat-menu #changeLayoutMenu="matMenu">
  <button mat-menu-item (click)="appState.setAppMode(AppMode.EDITING_DECK)">
    <mat-icon>edit</mat-icon>
    Editing Deck
  </button>
  <button mat-menu-item (click)="appState.setAppMode(AppMode.MANAGING_FILES)">
    <mat-icon class="material-symbols-outlined">cards_stack</mat-icon>
    Managing Files
  </button>
  <button mat-menu-item (click)="appState.setAppMode(AppMode.REVIEWING_DECK)">
    <mat-icon class="material-symbols-outlined">transition_slide</mat-icon>
    Reviewing Deck
  </button>
</mat-menu>

<mat-menu #reviewMenu="matMenu">
  <fc-review-order-button />
  <fc-show-side-button />
</mat-menu>


<fc-deck-interaction-area />





<router-outlet />
